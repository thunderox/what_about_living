
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>ThunderOx software's What about living?</title>

	<style>
		@font-face {
			font-family: 'DrawingWithMarkers';
			src: url('DrawingWithMarkers.ttf');
		}

		body {
			background-color: #000000;
			color: #eeeeee;
			 font-family: "DrawingWithMarkers";
		}
	</style>

	<canvas id="myCanvas" width="800" height="500" style="border:1px solid #000000;">
	</canvas> 
	<script type='text/javascript' src='clickables.js'></script>
	<script type='text/javascript' src='font-detect.js'></script>
	<script type='text/javascript' src='map.js'></script>
	<script type='text/javascript' src='keys.js'></script>
	<script type='text/javascript' src='mouse.js'></script>
	<script type='text/javascript' src='logic.js'></script>
	<script type='text/javascript' src='screen.js'></script>
	<script type='text/javascript' src='characters.js'></script>
	<script type='text/javascript' src='objects.js'></script>
	<script>

		//----------------------------------------------------------

		/**
		 * Provides requestAnimationFrame in a cross browser way.
		 * http://paulirish.com/2011/requestanimationframe-for-smart-animating/
		 */

		if ( !window.requestAnimationFrame ) {

			window.requestAnimationFrame = ( function() {

				return window.webkitRequestAnimationFrame ||
				window.mozRequestAnimationFrame || // comment out if FF4 is slow (it caps framerate at ~30fps: https://bugzilla.mozilla.org/show_bug.cgi?id=630127)
				window.oRequestAnimationFrame ||
				window.msRequestAnimationFrame ||
				function( /* function FrameRequestCallback */ callback, /* DOMElement Element */ element ) {

					window.setTimeout( callback, 1000 / 60 );

				};

			} )();

		}

		add_clickable("room",rooms[current_room_number].image_file, 0,0); 
		set_clickable_persistency ("room", true);

		add_clickable("arrow_north","gfx/arrow_up.png", (800/2)-32, 72);
		set_clickable_persistency ("arrow_north", true);

		add_clickable("arrow_south","gfx/arrow_down.png", (800/2)-32, 500-140);
		set_clickable_persistency ("arrow_south", true);

		add_clickable("arrow_east","gfx/arrow_right.png", 800-140, 500/2); 
		set_clickable_persistency ("arrow_east", true);

		add_clickable("arrow_west","gfx/arrow_left.png", 0, 500/2);
		set_clickable_persistency ("arrow_west", true);

		add_clickable("player1_panel","gfx/PlayerPanel.png", 800-256,0);
		set_clickable_persistency ("player1_panel", true);

		add_clickable("player1","gfx/AvatarMalePlayer.png", 800-128,0); 
		set_clickable_persistency ("player1", true);

		add_clickable("player1_energy","gfx/energy.png", 800-250,128-24);
		set_clickable_persistency ("player1_energy", true); 

		add_clickable("inventory_bag","gfx/InventoryBag.png", 800-220,8);
		set_clickable_persistency ("inventory_bag", true);

		add_clickable("inventory_list","gfx/InventoryList.png", 800-256,128+16);

		add_characters();
		add_objects();

		FontDetect.onFontLoaded ('DrawingWithMarkers',font_loaded, null);

		var lastRender = new Date();

		function main_loop()
		{
		  	var delta = new Date() - lastRender;
			checkKeys();

			// =========== This is a workaround for onload google chrome strangeness! ========
			
			if (display_now == true)
			{
				for (x=0; x < clickables.length; ++x)
				{
					if ( clickables[x].image.complete == false ) break;
					if ( x == clickables.length - 1)
					{
						show_canvas();
						display_now = false; 
					}
				}
			}


		        requestAnimationFrame(main_loop);
		}


	        requestAnimationFrame(main_loop);

		function font_loaded()
		{
			init_canvas();
		}
	
	</script> 

    </head>

    <body>
        <h1>
		What about living?
	</h1>

	<p>
		(c)2015 ThunderOx Software - Concept, Design & Art by Kathryn Wood - Programming by Nick bailey
	</p>

    </body>

</html>

 








